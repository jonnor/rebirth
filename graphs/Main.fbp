
# Open connection to Arduino
# Color wont actually be seen, because it restarts upon serial connect
"/dev/ttyACM0" -> PORT send(SendToArduino)
"[ 0, 0, 222 ]" -> (strings/ParseJson) -> COLOR send

# Read camera data
camera(StreamWebcam) IMAGE -> convert(MatrixToCanvas)
'0.3' -> (strings/ParseFloat) -> FRAMERATE camera
'0' -> (strings/ParseInt) -> DEVICE camera

# Extract the colors
convert CANVAS -> CANVAS colors(image/GetColors) COLORS -> COLORS pick(PickColor)

# Send colors to Ardunino
pick COLOR -> COLOR send
colors COLORS -> IN out(core/Output)
pick COLOR -> out

# Error handling
errors(core/Repeat) -> IN out
load ERROR -> errors
colors ERROR -> errors
pick ERROR -> errors

