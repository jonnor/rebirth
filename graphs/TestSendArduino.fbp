
# Just to keep the program running in batch mode, so we see results
'6000' -> DELAY waitresult(core/RepeatDelayed)
'done waiting' -> IN waitresult
waitresult -> out(core/Output)

# Open connection to Arduino
"/dev/ttyACM1" -> PORT send(SendToArduino)
"[ 0, 0, 222 ]" -> (strings/ParseJson) -> COLOR send

# Then send a real color
'2000' -> DELAY delayed(core/RepeatDelayed)
"[ 255, 255, 2 ]" -> IN delayed
delayed OUT -> parse(strings/ParseJson) -> COLOR send

# Error handling
send ERROR -> out(core/Output)
parse ERROR -> out
